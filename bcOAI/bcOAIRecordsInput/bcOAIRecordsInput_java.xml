<?xml version="1.0" encoding="UTF-8"?>

<COMPONENT>
	<HEADER
			AUTHOR="Benoit Courtine"
			COMPATIBILITY="ALL"
			PLATEFORM="ALL"
			RELEASE_DATE="20101125A"
			SERIAL=""
			STARTABLE="true"
			STATUS="ALPHA"
			VERSION="0.1"
	>
		<SIGNATURE/>
	</HEADER>
	<FAMILIES>
		<FAMILY>Internet/OAI</FAMILY>
	</FAMILIES>
	<DOCUMENTATION>
		<URL/>
	</DOCUMENTATION>
	<CONNECTORS>
		<CONNECTOR CTYPE="FLOW" MAX_INPUT="0" MAX_OUTPUT="1"/>
		<CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="0" MAX_INPUT="1"/>
		<CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" />
		<CONNECTOR CTYPE="COMPONENT_OK"/>
		<CONNECTOR CTYPE="COMPONENT_ERROR"/>
		<CONNECTOR CTYPE="RUN_IF"/>
	</CONNECTORS>

	<PARAMETERS>
		<PARAMETER NAME="SCHEMA" FIELD="SCHEMA_TYPE" REQUIRED="true" NUM_ROW="10">
			<TABLE READONLY="false">
				<COLUMN NAME="identifier" TYPE="id_String" LENGTH="255" READONLY="false" CUSTOM="true" />
				<COLUMN NAME="datestamp" TYPE="id_String" LENGTH="255" READONLY="false" CUSTOM="true" />
			</TABLE>
		</PARAMETER>

		<PARAMETER NAME="URL" FIELD="TEXT" REQUIRED="true" NUM_ROW="15">
			<DEFAULT>"http://alcme.oclc.org/oaicat/OAIHandler"</DEFAULT>
		</PARAMETER>

		<!-- Criteres de filtrage du moissonnage -->
		<PARAMETER NAME="BEGIN_DATE" FIELD="TEXT" REQUIRED="true" NUM_ROW="20">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="END_DATE" FIELD="TEXT" REQUIRED="true" NUM_ROW="20">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="METADATA_PREFIX" FIELD="TEXT" REQUIRED="true" NUM_ROW="30">
			<DEFAULT>"oai_dc"</DEFAULT>
		</PARAMETER>
		<PARAMETER NAME="SET" FIELD="TEXT" REQUIRED="true" NUM_ROW="30">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<!-- Mapping des champs de la rÃ©ponse XML -->
		<PARAMETER NAME="HEADER" FIELD="TABLE" NUM_ROW="40" NB_LINES="3">
			<ITEMS>
				<ITEM NAME="HEADER_FIELD" FIELD="TEXT" />
				<ITEM NAME="OUTPUT_COLUMN" FIELD="COLUMN_LIST" />
			</ITEMS>
		</PARAMETER>

		<PARAMETER NAME="METADATA" FIELD="TABLE" NUM_ROW="50" NB_LINES="5">
			<ITEMS>
				<ITEM NAME="METADATA_FIELD" FIELD="TEXT" />
				<ITEM NAME="OUTPUT_COLUMN" FIELD="COLUMN_LIST" />
			</ITEMS>
		</PARAMETER>
	</PARAMETERS>

	<ADVANCED_PARAMETERS>
		<PARAMETER NAME="MULTI_SEPARATOR" FIELD="TEXT" REQUIRED="true" NUM_ROW="10">
			<DEFAULT>"XXX"</DEFAULT>
		</PARAMETER>
	</ADVANCED_PARAMETERS>

	<CODEGENERATION>
		<IMPORTS>
			<IMPORT NAME="OAIHarvester2-0.1.12" MODULE="oaiharvester2-0.1.12.jar" REQUIRED="true" />
			<IMPORT NAME="XercesImpl-2.9.1" MODULE="xercesImpl-2.9.1.jar" REQUIRED="true" />
			<IMPORT NAME="Xalan-2.7.1" MODULE="xalan-2.7.1.jar" REQUIRED="true" />
			<IMPORT NAME="Serializer-2.7.1" MODULE="serializer-2.7.1.jar" REQUIRED="true" />
			<IMPORT NAME="XML-Apis-1.3.04" MODULE="xml-apis-1.3.04.jar" REQUIRED="true" />
			<IMPORT NAME="Log4J-1.2.16" MODULE="log4j-1.2.16.jar" REQUIRED="true" />
		</IMPORTS>
	</CODEGENERATION>

	<RETURNS>
		<RETURN AVAILABILITY="AFTER" NAME="NB_LINE" TYPE="id_Integer"/>
	</RETURNS>
</COMPONENT>
