<?xml version="1.0" encoding="UTF-8"?>

<COMPONENT>
	<HEADER
			AUTHOR="Benoit Courtine"
			COMPATIBILITY="ALL"
			DATA_AUTO_PROPAGATE="true"
			PLATEFORM="ALL"
			RELEASE_DATE="20110709A"
			SERIAL=""
			STARTABLE="true"
			STATUS="ALPHA"
			VERSION="1.3"
			HAS_CONDITIONAL_OUTPUTS="false"
	>
		<SIGNATURE/>
	</HEADER>

	<FAMILIES>
		<FAMILY>Logs_Errors/Logback</FAMILY>
	</FAMILIES>

	<DOCUMENTATION>
		<URL/>
	</DOCUMENTATION>

	<CONNECTORS>
		<CONNECTOR CTYPE="FLOW" MAX_INPUT="1"/>
		<CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="0" MAX_INPUT="1"/>
		<CONNECTOR CTYPE="THEN_RUN" MAX_INPUT="1"/>
		<CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" />
		<CONNECTOR CTYPE="COMPONENT_OK"/>
		<CONNECTOR CTYPE="COMPONENT_ERROR"/>
		<CONNECTOR CTYPE="RUN_IF"/>
	</CONNECTORS>

	<PARAMETERS>
		<PARAMETER NAME="SCHEMA" FIELD="SCHEMA_TYPE" REQUIRED="true" NUM_ROW="1">
			<DEFAULT/>
		</PARAMETER>

		<PARAMETER
				NAME="LOGBACK_LEVEL"
				FIELD="CLOSED_LIST"
				NUM_ROW="3"
				SHOW_IF="LOG_MAIN == 'true'"
		>
			<ITEMS DEFAULT="WARNING">
				<ITEM NAME="TRACE" VALUE="0" />
				<ITEM NAME="DEBUG" VALUE="1" />
				<ITEM NAME="INFO" VALUE="2" />
				<ITEM NAME="WARNING" VALUE="3" />
				<ITEM NAME="ERROR" VALUE="4" />
			</ITEMS>
		</PARAMETER>

		<PARAMETER
				NAME="LOGBACK_MESSAGE"
				FIELD="TEXT"
				REQUIRED="true"
				NUM_ROW="4"
				SHOW_IF="LOG_MAIN == 'true'"
		>
			<DEFAULT>"Hello log message"</DEFAULT>
		</PARAMETER>

		<PARAMETER
				NAME="CONDITIONAL_LOG"
				FIELD="CHECK"
				NUM_ROW="5"
				SHOW_IF="LOG_MAIN == 'true'"
		>
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER
				NAME="LOG_CONDITION"
				FIELD="TEXT"
				NUM_ROW="6"
				SHOW_IF="(LOG_MAIN == 'true') AND (CONDITIONAL_LOG == 'true')"
		>
			<DEFAULT>true</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="LOG_PARAMS" FIELD="TABLE" REQUIRED="false" NUM_ROW="6" NB_LINES="5">
			<ITEMS>
				<ITEM NAME="PARAM" />
			</ITEMS>
		</PARAMETER>
	</PARAMETERS>

	<ADVANCED_PARAMETERS>
		<PARAMETER
				NAME="USE_SPECIFIC_LOGGER"
				FIELD="CHECK"
				NUM_ROW="2"
		>
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER
				NAME="LOGBACK_LOGGER"
				FIELD="TEXT"
				NUM_ROW="2"
				SHOW_IF="USE_SPECIFIC_LOGGER == 'true'"
		>
			<DEFAULT>"root"</DEFAULT>
		</PARAMETER>

		<PARAMETER
				NAME="LOG_BEGIN"
				FIELD="CHECK"
				NUM_ROW="3"
		>
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER
				NAME="BEGIN_LOG_LEVEL"
				FIELD="CLOSED_LIST"
				NUM_ROW="3"
				SHOW_IF="LOG_BEGIN == 'true'"
		>
			<ITEMS DEFAULT="INFO">
				<ITEM NAME="TRACE" VALUE="0" />
				<ITEM NAME="DEBUG" VALUE="1" />
				<ITEM NAME="INFO" VALUE="2" />
				<ITEM NAME="WARNING" VALUE="3" />
				<ITEM NAME="ERROR" VALUE="4" />
			</ITEMS>
		</PARAMETER>

		<PARAMETER
				NAME="BEGIN_LOG_MESSAGE"
				FIELD="TEXT"
				REQUIRED="true"
				NUM_ROW="4"
				SHOW_IF="LOG_BEGIN == 'true'"
		>
			<DEFAULT>"Start logging"</DEFAULT>
		</PARAMETER>

		<PARAMETER
				NAME="LOG_MAIN"
				FIELD="CHECK"
				NUM_ROW="5"
		>
			<DEFAULT>true</DEFAULT>
		</PARAMETER>

		<PARAMETER
				NAME="LOG_END"
				FIELD="CHECK"
				NUM_ROW="6"
		>
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER
				NAME="END_LOG_LEVEL"
				FIELD="CLOSED_LIST"
				NUM_ROW="6"
				SHOW_IF="LOG_END == 'true'"
		>
			<ITEMS DEFAULT="INFO">
				<ITEM NAME="TRACE" VALUE="0" />
				<ITEM NAME="DEBUG" VALUE="1" />
				<ITEM NAME="INFO" VALUE="2" />
				<ITEM NAME="WARNING" VALUE="3" />
				<ITEM NAME="ERROR" VALUE="4" />
			</ITEMS>
		</PARAMETER>

		<PARAMETER
				NAME="END_LOG_MESSAGE"
				FIELD="TEXT"
				REQUIRED="true"
				NUM_ROW="7"
				SHOW_IF="LOG_END == 'true'"
		>
			<DEFAULT>"End logging"</DEFAULT>
		</PARAMETER>
	</ADVANCED_PARAMETERS>

	<CODEGENERATION>
		<IMPORTS>
			<IMPORT MODULE="logback-core-1.0.7.jar" NAME="logback-core-1.0.7" REQUIRED="true"/>
			<IMPORT MODULE="logback-classic-1.0.7.jar" NAME="logback-classic-1.0.7" REQUIRED="true"/>
			<IMPORT MODULE="slf4j-api-1.7.2.jar" NAME="slf4j-api-1.7.2" REQUIRED="true"/>
		</IMPORTS>
	</CODEGENERATION>

	<RETURNS>
		<RETURN AVAILABILITY="AFTER" NAME="NB_LINE" TYPE="id_Integer"/>
		<RETURN AVAILABILITY="AFTER" NAME="NB_LOGGED_LINE" TYPE="id_Integer"/>
	</RETURNS>
</COMPONENT>
