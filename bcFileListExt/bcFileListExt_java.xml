<COMPONENT>
	<HEADER
		PLATEFORM="ALL"
		SERIAL=""
		VERSION="1.0"
		STATUS="ALPHA"
		COMPATIBILITY="ALL"
		AUTHOR="Benoit Courtine"
		RELEASE_DATE="20100618A"
		STARTABLE="true"
	>
		<SIGNATURE />
	</HEADER>

	<FAMILIES>
		<FAMILY>File/Management</FAMILY>
		<FAMILY>Orchestration</FAMILY>
	</FAMILIES>

	<DOCUMENTATION>
		<URL />
	</DOCUMENTATION>

	<CONNECTORS>
		<CONNECTOR CTYPE="FLOW" MAX_OUTPUT="0" MAX_INPUT="0" />
		<CONNECTOR CTYPE="ITERATE" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" />
		<CONNECTOR CTYPE="COMPONENT_OK" />
		<CONNECTOR CTYPE="COMPONENT_ERROR" />
		<CONNECTOR CTYPE="RUN_IF" />
	</CONNECTORS>

	<PARAMETERS>
		<PARAMETER NAME="DIRECTORY" FIELD="DIRECTORY" NUM_ROW="1">
			<DEFAULT>"__COMP_DEFAULT_FILE_DIR__"</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="LIST_MODE" FIELD="CLOSED_LIST" NUM_ROW="3">
			<ITEMS DEFAULT="FILES">
				<ITEM NAME="FILES" VALUE="FILES" />
				<ITEM NAME="DIRECTORIES" VALUE="DIRECTORIES" />
				<ITEM NAME="BOTH" VALUE="BOTH" />
			</ITEMS>
		</PARAMETER>

		<PARAMETER NAME="INCLUDSUBDIR" FIELD="CHECK" NUM_ROW="4">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="CASE_SENSITIVE" FIELD="CLOSED_LIST" NUM_ROW="4">
			<ITEMS DEFAULT="YES">
				<ITEM NAME="YES" VALUE="YES" />
				<ITEM NAME="NO" VALUE="NO" />
			</ITEMS>
		</PARAMETER>

		<PARAMETER NAME="ERROR" FIELD="CHECK" NUM_ROW="4">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="GLOBEXPRESSIONS" FIELD="CHECK" NUM_ROW="5">
			<DEFAULT>true</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="FILES" FIELD="TABLE" REQUIRED="false" NUM_ROW="6" NB_LINES="5">
			<ITEMS>
				<ITEM NAME="FILEMASK" />
			</ITEMS>
		</PARAMETER>
	</PARAMETERS>

	<ADVANCED_PARAMETERS>
		
		<PARAMETER NAME="EXCLUDEFILES" FIELD="TABLE" REQUIRED="false" NUM_ROW="2">
			<ITEMS>
				<ITEM NAME="FILEMASK" />
			</ITEMS>
		</PARAMETER>
		
		<PARAMETER NAME="FORMAT_FILEPATH_TO_SLASH" FIELD="CHECK" NUM_ROW="4">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="FOLDER_ORDER" FIELD="CLOSED_LIST" NUM_ROW="6"
			SHOW_IF="LIST_MODE == 'BOTH'"
		>
			<ITEMS DEFAULT="NOSORT">
				<ITEM NAME="NOSORT" VALUE="NOSORT" />
				<ITEM NAME="BEFORE" VALUE="BEFORE" />
				<ITEM NAME="AFTER" VALUE="AFTER" />
			</ITEMS>
		</PARAMETER>

		<PARAMETER NAME="SORT_FILES" FIELD="CHECK" NUM_ROW="8">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		
		<PARAMETER NAME="SORT_ORDER" FIELD="CLOSED_LIST" NUM_ROW="8"
			SHOW_IF="SORT_FILES == 'true'"
		>
			<ITEMS DEFAULT="FILENAME">
				<ITEM NAME="FILENAME" VALUE="FILENAME" />
				<ITEM NAME="FILESIZE" VALUE="FILESIZE" />
				<ITEM NAME="LASTMODIFIED" VALUE="LASTMODIFIED" />
			</ITEMS>
		</PARAMETER>

		<PARAMETER NAME="REVERSE_ORDER" FIELD="CHECK" NUM_ROW="8"
			SHOW_IF="SORT_FILES == 'true'"
		>
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
	</ADVANCED_PARAMETERS>

	<CODEGENERATION>
		<IMPORTS>
			<IMPORT NAME="jakarta-oro" MODULE="jakarta-oro-2.0.8.jar" REQUIRED="true" />
			<IMPORT NAME="filecomparators" MODULE="filecomparators-1.0.jar" REQUIRED="true" />
		</IMPORTS>
	</CODEGENERATION>

	<RETURNS>
		<RETURN NAME="CURRENT_FILE" TYPE="id_String" AVAILABILITY="FLOW" />
		<RETURN NAME="CURRENT_FILEPATH" TYPE="id_String" AVAILABILITY="FLOW" />
		<RETURN NAME="CURRENT_FILEDIRECTORY" TYPE="id_String" AVAILABILITY="FLOW" />
		<RETURN NAME="CURRENT_FILEEXTENSION" TYPE="id_String" AVAILABILITY="FLOW" />
		<RETURN NAME="NB_FILE" TYPE="id_Integer" AVAILABILITY="FLOW" />
	</RETURNS>
</COMPONENT>
